<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodes="clr-namespace:net_maui_app_v24.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:DataType="viewmodes:MainPageViewModel"
             x:Class="net_maui_app_v24.MainPage">
    <ContentPage.Resources>
        <toolkit:ByteArrayToImageSourceConverter x:Key="ToImage" />
    </ContentPage.Resources>
    <ContentPage.Content>
        <Grid      
            BackgroundColor="#01574f"
            RowDefinitions="60, 60, 60, 60, 60, 60, 160, 10, 60, 60, 60">
            <Grid
                Grid.Row="0"
                Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="120, *, 140, *, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                           x:Name="btnRecord"
                           Text="Record" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding RecordCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                           x:Name="btnStop"
                           Text="Stop" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding StopCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                           x:Name="btnPlay"
                           Text="Play" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding PlayCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                Grid.Row="1"
                Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="120, *, 140, *, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                           x:Name="btnSpeak"
                           Text="Speak" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding SpeakCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                           x:Name="btnFile"
                           Text="File" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding FileCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                           x:Name="btnDownload"
                           Text="Download" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding DownloadCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                Grid.Row="2"
                Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="120, *, 140, *, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                           x:Name="btnUpload"
                           Text="Upload" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding UploadCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                           x:Name="btnConvert"
                           Text="Convert" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding ConvertCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                           x:Name="btnWav"
                           Text="Record Wav" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding WavCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                Grid.Row="3"
                Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="120, *, 140, *, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                           x:Name="btnWavStop"
                           Text="Stop Wav" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding WavStopCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                            x:Name="btnGPS"
                            Text="GPS" 
                            x:DataType="viewmodes:MainPageViewModel"
                            Command="{Binding GPSCommand}"
                            HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                            x:Name="btnBattery"
                            Text="Battery" 
                            x:DataType="viewmodes:MainPageViewModel"
                            Command="{Binding BatteryCommand}"
                            HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
               Grid.Row="4"
               Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="60, *, 60, 10, 120">
                    <Grid
                        Grid.Column="0">
                        <Label
                           x:Name="lblX"
                           BackgroundColor="Gray"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           Text="X" 
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="1">
                        <Label
                           x:Name="lblY"
                           BackgroundColor="Gray"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           Text="Y" 
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Label
                           x:Name="lblZ"
                           BackgroundColor="Gray"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           Text="Z" 
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                           x:Name="btnShake"
                           Text="Shake" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Clicked="Shake_OnClick"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
               Grid.Row="5"
               Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="*, 10, 120">
                    <Grid
                        Grid.Column="0">
                        <Label
                            x:Name="lblGyroscope"
                            BackgroundColor="Gray"
                            HorizontalTextAlignment="Center"
                            VerticalTextAlignment="Center"
                            Text="Gyroscope" 
                            HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                           x:Name="btnVibration"
                           Text="Vibration" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding VibrationCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                Grid.Row="6"
                Padding="10, 10, 0, 10"
                RowDefinitions="160">
                <Grid 
                    ColumnDefinitions="*, 280"
                    RowDefinitions="160">
                    <Grid
                        Grid.Column="0">
                        <toolkit:CameraView 
                            x:Name="Camera"
                            Grid.Row="0"
                            Grid.Column="0"
                            CameraFlashMode="{Binding FlashMode}"
                            HorizontalOptions="Fill"
                            VerticalOptions="Fill"
                            IsVisible="{Binding ShowCamera}"
                            MediaCaptured="OnMediaCaptured"
                            SelectedCamera="{Binding SelectedCamera}"/>
                        <Image
                            x:Name="imgCamera"
                            Aspect="AspectFit"
                            HorizontalOptions="Fill"
                            VerticalOptions="Fill" 
                            IsVisible="{Binding ShowPhoto}"
                            Source="{Binding Bytes, Converter={StaticResource ToImage}}" />
                    </Grid>
                    <Grid
                        Grid.Column="1">
                        <Grid
                            RowDefinitions="40, 10, 40, 10, 40">
                            <Grid
                                Grid.Row="0"
                                ColumnDefinitions="10, 125, 10, 125">
                                <Grid
                                    Grid.Column="1">
                                    <Slider 
                                        Grid.Column="0"
                                        Value="0"/>
                                </Grid>
                                <Grid
                                    Grid.Column="3">
                                    <Button
                                        x:Name="btnFlash"
                                        Text="Flash On" 
                                        x:DataType="viewmodes:MainPageViewModel"
                                        Command="{Binding FlashCommand}"
                                        HorizontalOptions="Fill" />
                                </Grid>
                            </Grid>
                            <Grid
                                Grid.Row="2"
                                ColumnDefinitions="10, 125, 10, 125">
                                <Grid
                                    Grid.Column="1">
                                    <Button
                                        x:Name="btnRotate"
                                        Text="Rotate" 
                                        x:DataType="viewmodes:MainPageViewModel"
                                        Command="{Binding RotateCommand}"
                                        HorizontalOptions="Fill" />
                                </Grid>
                                <Grid
                                    Grid.Column="3">
                                    <Button
                                        x:Name="btnFlashOff"
                                        Text="Flash Off" 
                                        Command="{Binding FlashOffCommand}"
                                        HorizontalOptions="Fill" />
                                </Grid>
                            </Grid>
                            <Grid
                                Grid.Row="4"
                                ColumnDefinitions="10, 125, 10, 125">
                                <Grid
                                    Grid.Column="1">
                                    <Button
                                        x:Name="btnSave"
                                        Text="Save" 
                                        Command="{Binding SavePictureCommand}"
                                        HorizontalOptions="Fill" />
                                </Grid>
                                <Grid
                                    Grid.Column="3">
                                    <Button
                                        x:Name="btnFlashAuto"
                                        Text="Flash Auto" 
                                        Command="{Binding FlashAutoCommand}"
                                        HorizontalOptions="Fill" />
                                </Grid>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
            <Grid
               Grid.Row="8"
               Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="85, 10, 85, 10, 75, 10, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                            x:Name="btnCapture"
                            Text="Capture" 
                            x:DataType="viewmodes:MainPageViewModel"
                            Command="{Binding CaptureCommand}"
                            CommandParameter="{Binding Token}"
                            HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                            x:Name="btnPreview"
                            Text="Preview" 
                            x:DataType="viewmodes:MainPageViewModel"
                            Command="{Binding PreviewCommand}"
                            CommandParameter="{Binding Token}"
                            HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                            x:Name="btnPicker"
                            Text="Picker" 
                            x:DataType="viewmodes:MainPageViewModel"
                            Command="{Binding PikerCommand}"
                            HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="6">
                        <Button
                            x:Name="btnStopPreview"
                            Text="Stop Preview" 
                            x:DataType="viewmodes:MainPageViewModel"
                            Command="{Binding StopPreviewCommand}"
                            HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                Grid.Row="9"
                Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="120, *, 140, *, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                           x:Name="btnBluetooth"
                           Text="Bluetooth" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Clicked="Bluetooth_OnClick"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                           x:Name="btnBarometer"
                           Text="Barometer" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding BarometerCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                           x:Name="btnCompass"
                           Text="Compass" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding CompassCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
               Grid.Row="10"
               Padding="10, 10, 10, 10">
                <Grid
                    ColumnDefinitions="120, *, 140, *, 120">
                    <Grid
                        Grid.Column="0">
                        <Button
                           x:Name="btnLowpass"
                           Text="Lowpass" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding LowpassCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="2">
                        <Button
                           x:Name="btnMagnetometer"
                           Text="Magnotometer" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding MagnetometerCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                    <Grid
                        Grid.Column="4">
                        <Button
                           x:Name="btnOrientation"
                           Text="Orientation" 
                           x:DataType="viewmodes:MainPageViewModel"
                           Command="{Binding OrientationCommand}"
                           HorizontalOptions="Fill" />
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </ContentPage.Content>
</ContentPage>
